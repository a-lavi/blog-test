{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alirahmani/Project/blog_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/alirahmani/Project/blog_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/alirahmani/Project/blog_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"../Controllers/axios\";import useAuth from\"./useAuth\";var useLogout=function useLogout(){var _useAuth=useAuth(),setAuth=_useAuth.setAuth;console.log(\"triigge\");var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setAuth(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{username:null,password:null,roles:null,accessToken:null,isAuthenticated:false});});_context.prev=1;_context.next=4;return axios(\"/api/logout\",{withCredentials:true});case 4:response=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function logout(){return _ref.apply(this,arguments);};}();return logout;};export default useLogout;","map":{"version":3,"names":["axios","useAuth","useLogout","setAuth","console","log","logout","prevState","username","password","roles","accessToken","isAuthenticated","withCredentials","response","error"],"sources":["/Users/alirahmani/Project/blog_project/src/hooks/useLogout.js"],"sourcesContent":["import axios from \"../Controllers/axios\";\nimport useAuth from \"./useAuth\";\n\nconst useLogout = () => {\n  const { setAuth } = useAuth();\n  console.log(\"triigge\");\n  const logout = async () => {\n    setAuth((prevState) => ({\n      ...prevState,\n      username: null,\n      password: null,\n      roles: null,\n      accessToken: null,\n      isAuthenticated: false,\n    }));\n    try {\n      const response = await axios(\"/api/logout\", {\n        withCredentials: true,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return logout;\n};\n\nexport default useLogout;\n"],"mappings":"mYAAA,MAAOA,MAAP,KAAkB,sBAAlB,CACA,MAAOC,QAAP,KAAoB,WAApB,CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,aAAoBD,OAAO,EAA3B,CAAQE,OAAR,UAAQA,OAAR,CACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,GAAMC,OAAM,4FAAG,kJACbH,OAAO,CAAC,SAACI,SAAD,wCACHA,SADG,MAENC,QAAQ,CAAE,IAFJ,CAGNC,QAAQ,CAAE,IAHJ,CAINC,KAAK,CAAE,IAJD,CAKNC,WAAW,CAAE,IALP,CAMNC,eAAe,CAAE,KANX,IAAD,CAAP,CADa,sCAUYZ,MAAK,CAAC,aAAD,CAAgB,CAC1Ca,eAAe,CAAE,IADyB,CAAhB,CAVjB,QAULC,QAVK,8FAcXV,OAAO,CAACW,KAAR,cAdW,oEAAH,kBAANT,OAAM,0CAAZ,CAkBA,MAAOA,OAAP,CACD,CAtBD,CAwBA,cAAeJ,UAAf"},"metadata":{},"sourceType":"module"}