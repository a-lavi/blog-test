{"ast":null,"code":"import{useLocation,Navigate,Outlet}from\"react-router-dom\";import useAuth from\"../hooks/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";var RequireAuth=function RequireAuth(_ref){var _auth$roles;var allowedRoles=_ref.allowedRoles;var _useAuth=useAuth(),auth=_useAuth.auth;var location=useLocation();console.log(allowedRoles);console.log(auth.roles);console.log('here is the auth user',auth.username);/* if (!auth.username){\n    return (\n        <Navigate to=\"/blog_project/login\" state={{ from: location }} replace />\n    )\n }\n    return(\n        <Outlet/>\n    ) */return auth!==null&&auth!==void 0&&(_auth$roles=auth.roles)!==null&&_auth$roles!==void 0&&_auth$roles.find(function(role){return allowedRoles===null||allowedRoles===void 0?void 0:allowedRoles.includes(role);})?/*#__PURE__*/_jsx(Outlet,{}):auth!==null&&auth!==void 0&&auth.username?/*#__PURE__*/_jsx(Navigate,{to:\"/blog_project/unauthorized\",state:{from:location},replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/blog_project/login\",state:{from:location},replace:true});};export default RequireAuth;/* \nreturn (\n    auth?.roles?.find(role => allowedRoles?.includes(role))\n        ? <Outlet />\n        : auth?.username\n            ? <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\n            : <Navigate to=\"/blog_project/login\" state={{ from: location }} replace />\n); */","map":{"version":3,"names":["useLocation","Navigate","Outlet","useAuth","RequireAuth","allowedRoles","auth","location","console","log","roles","username","find","role","includes","from"],"sources":["/Users/alirahmani/Project/blog_project/src/Components/RequireAuth.js"],"sourcesContent":["import { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport useAuth from \"../hooks/useAuth\";\n\nconst RequireAuth = ({ allowedRoles }) => {\n    const { auth } = useAuth();\n    const location = useLocation();\nconsole.log(allowedRoles)\nconsole.log(auth.roles)\nconsole.log('here is the auth user',auth.username)\n /* if (!auth.username){\n    return (\n        <Navigate to=\"/blog_project/login\" state={{ from: location }} replace />\n    )\n }\n    return(\n        <Outlet/>\n    ) */\n    return (\n        auth?.roles?.find(role => allowedRoles?.includes(role))\n            ? <Outlet />\n            : auth?.username\n                ? <Navigate to=\"/blog_project/unauthorized\" state={{ from: location }} replace />\n                : <Navigate to=\"/blog_project/login\" state={{ from: location }} replace />\n    );\n}\nexport default RequireAuth;\n/* \nreturn (\n    auth?.roles?.find(role => allowedRoles?.includes(role))\n        ? <Outlet />\n        : auth?.username\n            ? <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\n            : <Navigate to=\"/blog_project/login\" state={{ from: location }} replace />\n); */"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,QAAtB,CAAgCC,MAAhC,KAA8C,kBAA9C,CACA,MAAOC,QAAP,KAAoB,kBAApB,C,2CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAsB,oBAAnBC,aAAmB,MAAnBA,YAAmB,CACtC,aAAiBF,OAAO,EAAxB,CAAQG,IAAR,UAAQA,IAAR,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACJQ,OAAO,CAACC,GAAR,CAAYJ,YAAZ,EACAG,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,KAAjB,EACAF,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAoCH,IAAI,CAACK,QAAzC,EACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,QACI,MACIL,KAAI,OAAJ,EAAAA,IAAI,SAAJ,eAAAA,IAAI,CAAEI,KAAN,4CAAaE,IAAb,CAAkB,SAAAC,IAAI,QAAIR,aAAJ,SAAIA,YAAJ,iBAAIA,YAAY,CAAES,QAAd,CAAuBD,IAAvB,CAAJ,EAAtB,eACM,KAAC,MAAD,IADN,CAEMP,IAAI,OAAJ,EAAAA,IAAI,SAAJ,EAAAA,IAAI,CAAEK,QAAN,cACI,KAAC,QAAD,EAAU,EAAE,CAAC,4BAAb,CAA0C,KAAK,CAAE,CAAEI,IAAI,CAAER,QAAR,CAAjD,CAAqE,OAAO,KAA5E,EADJ,cAEI,KAAC,QAAD,EAAU,EAAE,CAAC,qBAAb,CAAmC,KAAK,CAAE,CAAEQ,IAAI,CAAER,QAAR,CAA1C,CAA8D,OAAO,KAArE,EALd,CAOH,CArBD,CAsBA,cAAeH,YAAf,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}