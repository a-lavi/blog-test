{"ast":null,"code":"import _slicedToArray from\"/Users/alirahmani/Project/blog_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,useNavigate}from\"react-router-dom\";import React from\"react\";import{useState}from\"react\";import useAuth from\"../hooks/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPosts=function EditPosts(_ref){var data=_ref.data,updateGame=_ref.updateGame,deleteGames=_ref.deleteGames;var _useAuth=useAuth(),auth=_useAuth.auth;var _useParams=useParams(),gameid=_useParams.gameid;var foundgame=data.find(function(game){return game.id===gameid;});console.log(foundgame);var history=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),newPublisher=_useState4[0],setNewPublisher=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),newAuthor=_useState6[0],setNewAuthor=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),newImgUrl=_useState8[0],setNewImgUrl=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),newText=_useState10[0],setNewText=_useState10[1];console.log(auth);var gameTitles=data.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{children:element.title},index);});/*  async function calledGame (){\n       const foundgame= await data.find((game)=> game.id === gameid)\n       return setFindGame(foundgame) \n    }\n    \n    calledGame()\n    console.log(findGame) */function handleDeleteGame(){deleteGames({id:gameid,accessToken:auth.accessToken,roles:auth.roles});history(\"/blog_project\");}function handleUpdateGame(){updateGame({id:gameid,title:newTitle,author:newAuthor,imgUrl:newImgUrl,richText:newText,publisher:newPublisher,accessToken:auth.accessToken,roles:auth.roles});}console.log(data);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:foundgame.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"t\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"title\",children:\"Title: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",placeholder:foundgame.title,value:newTitle,onChange:function onChange(_ref2){var target=_ref2.target;return setNewTitle(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabl\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"author\",children:\"Author:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"author\",placeholder:foundgame.author,value:newAuthor,onChange:function onChange(_ref3){var target=_ref3.target;return setNewAuthor(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"imgurl\",children:\"IMG URL:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"imgurl\",placeholder:foundgame.imgUrl,value:newImgUrl,onChange:function onChange(_ref4){var target=_ref4.target;return setNewImgUrl(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabl2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"publisher\",children:\"Publisher:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"publisher\",placeholder:foundgame.publisher,value:newPublisher,onChange:function onChange(_ref5){var target=_ref5.target;return setNewPublisher(target.value);}})]}),/*#__PURE__*/_jsx(\"label\",{for:\"story\",children:\"Rich TEXT:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"story\",name:\"story\",placeholder:foundgame.richText,rows:\"52\",cols:\"100\",onChange:function onChange(_ref6){var target=_ref6.target;return setNewText(target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"tableCell1\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateGame,children:\"Update\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"tableCell1\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteGame,children:\"Delete Game\"})})]});};export default EditPosts;","map":{"version":3,"names":["useParams","useNavigate","React","useState","useAuth","EditPosts","data","updateGame","deleteGames","auth","gameid","foundgame","find","game","id","console","log","history","newTitle","setNewTitle","newPublisher","setNewPublisher","newAuthor","setNewAuthor","newImgUrl","setNewImgUrl","newText","setNewText","gameTitles","map","element","index","title","handleDeleteGame","accessToken","roles","handleUpdateGame","author","imgUrl","richText","publisher","target","value"],"sources":["/Users/alirahmani/Project/blog_project/src/Components/EditPosts.js"],"sourcesContent":["import { useParams, useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nconst EditPosts = ({ data, updateGame, deleteGames }) => {\n  const { auth } = useAuth();\n  let { gameid } = useParams();\n  const foundgame = data.find((game) => game.id === gameid);\n  console.log(foundgame);\n  const history = useNavigate();\n  const [newTitle, setNewTitle] = useState();\n  const [newPublisher, setNewPublisher] = useState();\n  const [newAuthor, setNewAuthor] = useState();\n  const [newImgUrl, setNewImgUrl] = useState();\n  const [newText, setNewText] = useState();\n\n  \nconsole.log(auth)\n  const gameTitles = data.map((element, index) => {\n    return <div key={index}>{element.title}</div>;\n  });\n\n   /*  async function calledGame (){\n       const foundgame= await data.find((game)=> game.id === gameid)\n       return setFindGame(foundgame) \n    }\n    \n    calledGame()\n    console.log(findGame) */\n  function handleDeleteGame() {\n    deleteGames({ id: gameid,\n      accessToken:auth.accessToken,\n      roles: auth.roles });\n    history(\"/blog_project\");\n  }\n\n  function handleUpdateGame() {\n    updateGame({\n      id: gameid,\n      title: newTitle,\n      author: newAuthor,\n      imgUrl: newImgUrl,\n      richText: newText,\n      publisher: newPublisher,\n      accessToken:auth.accessToken,\n      roles: auth.roles\n    });\n  }\n  console.log(data);\n\n  return (\n    <div>\n      <div>{foundgame.title}</div>\n\n      <div className=\"t\">\n        <label for=\"title\">Title: </label>\n        <input\n          id=\"title\"\n          placeholder={foundgame.title}\n          value={newTitle}\n          onChange={({ target }) => setNewTitle(target.value)}\n        />\n      </div>\n      <div className=\"tabl\">\n        <label for=\"author\">Author:</label>\n        <input\n          id=\"author\"\n          placeholder={foundgame.author}\n          value={newAuthor}\n          onChange={({ target }) => setNewAuthor(target.value)}\n        />\n      </div>\n      <div className=\"table\">\n        <label for=\"imgurl\">IMG URL:</label>\n        <input\n          id=\"imgurl\"\n          placeholder={foundgame.imgUrl}\n          value={newImgUrl}\n          onChange={({ target }) => setNewImgUrl(target.value)}\n        />\n      </div>\n      <div className=\"tabl2\">\n        <label for=\"publisher\">Publisher:</label>\n        <input\n          id=\"publisher\"\n          placeholder={foundgame.publisher}\n          value={newPublisher}\n          onChange={({ target }) => setNewPublisher(target.value)}\n        />\n      </div>\n\n      <label for=\"story\">Rich TEXT:</label>\n\n      <textarea\n        id=\"story\"\n        name=\"story\"\n        placeholder={foundgame.richText}\n        rows=\"52\"\n        cols=\"100\"\n        onChange={({ target }) => setNewText(target.value)}\n      ></textarea>\n      <div className=\"tableCell1\">\n        <button onClick={handleUpdateGame}>Update</button>\n      </div>\n      <div className=\"tableCell1\">\n        <button onClick={handleDeleteGame}>Delete Game</button>\n      </div>\n    </div>\n  );\n};\n\nexport default EditPosts\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}